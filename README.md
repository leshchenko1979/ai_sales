# Sales Bot

Telegram-бот для автоматизации холодных продаж инвестиционных проектов. Бот ведет диалоги с потенциальными инвесторами, квалифицирует их и назначает звонки с менеджером.

## Основной функционал MVP

### Управление диалогами
- Запуск диалога с конкретным пользователем
- Просмотр активных диалогов
- Остановка диалога
- Просмотр истории диалога
- Выгрузка диалогов в файл

### Автоматизация общения
- Автоматические ответы с использованием GPT
- Базовая квалификация лидов (проверка чека и сроков)
- Передача диалога живому менеджеру при необходимости

## Технический стек

### Backend
- Python (монолитное приложение)
- PostgreSQL (хранение данных)
- OpenAI API (генерация ответов)
- Telegram API (коммуникация с пользователями)

### Инфраструктура
- VPS сервер (Ubuntu 22.04)
- Systemd для управления процессом
- Long polling режим работы

## Административные команды
```
# Управление диалогами
/start @username - начать диалог
/stop N - остановить диалог номер N
/list - список активных диалогов

# Просмотр и выгрузка
/view N - просмотр диалога номер N
/export N - выгрузка диалога номер N в текстовый файл
/export_all - выгрузка всех диалогов
```

## Структура проекта
```
sales_bot/
├── config.py           # Конфигурация приложения
├── main.py            # Точка входа
├── bot/               # Логика бота
│   ├── commands.py    # Обработчики команд
│   ├── dialogs.py     # Управление диалогами
│   └── gpt.py         # Интеграция с GPT
├── db/                # Работа с базой данных
│   ├── models.py      # Модели данных
│   └── queries.py     # SQL запросы
└── utils/             # Вспомогательные функции
    ├── export.py      # Экспорт диалогов
    └── logging.py     # Настройка логирования
```

## Установка и запуск

1. Клонирование репозитория
```bash
git clone [repository_url]
cd sales_bot
```

2. Настройка окружения
```bash
python -m venv venv
source venv/bin/activate
pip install -r requirements.txt
```

3. Настройка конфигурации
```bash
cp config.example.py config.py
# Отредактируйте config.py, добавив необходимые токены
```

4. Настройка базы данных
```bash
psql -U postgres -f db/init.sql
```

5. Запуск бота
```bash
python main.py
```

## Дальнейшее развитие

После успешного запуска MVP планируется:
1. Система управления множеством аккаунтов
2. Парсинг контактов из групп и каналов
3. Улучшенные сценарии диалогов
4. Интеграция с CRM
5. Аналитика и отчетность

## Документация
- [Архитектура](architecture_mvp.md)
- [План реализации](implementation_plan.md)
- [Детали MVP](mvp_details.md)
